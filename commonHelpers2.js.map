{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const feedbackFormRef = document.querySelector('.feedback-form');\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nfeedbackFormRef.addEventListener('input', onAddsDataToLocalStorage);\nfeedbackFormRef.addEventListener('submit', onSubmitsDataAndClearsForm);\n\nconst formData = {\n  email: '',\n  message: '',\n};\n\nfillsFormFromLocalStorage(feedbackFormRef);\n\nfunction onAddsDataToLocalStorage(e) {\n  if (e.target.name === 'email') formData.email = e.target.value.trim();\n  if (e.target.name === 'message') formData.message = e.target.value.trim();\n\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction onSubmitsDataAndClearsForm(e) {\n  e.preventDefault();\n\n  if (formData.email && formData.message) {\n    console.log({\n      email: formData.email,\n      message: formData.message,\n    });\n\n    e.currentTarget.reset();\n    localStorage.removeItem(STORAGE_KEY);\n    formData.email = '';\n    formData.message = '';\n  } else {\n    alert('Все поля должны быть заполнены!');\n  }\n}\n\nfunction fillsFormFromLocalStorage(form) {\n  const objFromLocalStorage = JSON.parse(localStorage.getItem(STORAGE_KEY));\n\n  if (objFromLocalStorage !== null) {\n    formData.email = objFromLocalStorage.email;\n    formData.message = objFromLocalStorage.message;\n\n    form.elements.email.value = objFromLocalStorage.email;\n    form.elements.message.value = objFromLocalStorage.message;\n  }\n}\n"],"names":["feedbackFormRef","STORAGE_KEY","onAddsDataToLocalStorage","onSubmitsDataAndClearsForm","formData","fillsFormFromLocalStorage","e","form","objFromLocalStorage"],"mappings":"uFAAA,MAAMA,EAAkB,SAAS,cAAc,gBAAgB,EAEzDC,EAAc,sBAEpBD,EAAgB,iBAAiB,QAASE,CAAwB,EAClEF,EAAgB,iBAAiB,SAAUG,CAA0B,EAErE,MAAMC,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEAC,EAA0BL,CAAe,EAEzC,SAASE,EAAyBI,EAAG,CAC/BA,EAAE,OAAO,OAAS,UAASF,EAAS,MAAQE,EAAE,OAAO,MAAM,KAAI,GAC/DA,EAAE,OAAO,OAAS,YAAWF,EAAS,QAAUE,EAAE,OAAO,MAAM,KAAI,GAEvE,aAAa,QAAQL,EAAa,KAAK,UAAUG,CAAQ,CAAC,CAC5D,CAEA,SAASD,EAA2BG,EAAG,CACrCA,EAAE,eAAc,EAEZF,EAAS,OAASA,EAAS,SAC7B,QAAQ,IAAI,CACV,MAAOA,EAAS,MAChB,QAASA,EAAS,OACxB,CAAK,EAEDE,EAAE,cAAc,QAChB,aAAa,WAAWL,CAAW,EACnCG,EAAS,MAAQ,GACjBA,EAAS,QAAU,IAEnB,MAAM,iCAAiC,CAE3C,CAEA,SAASC,EAA0BE,EAAM,CACvC,MAAMC,EAAsB,KAAK,MAAM,aAAa,QAAQP,CAAW,CAAC,EAEpEO,IAAwB,OAC1BJ,EAAS,MAAQI,EAAoB,MACrCJ,EAAS,QAAUI,EAAoB,QAEvCD,EAAK,SAAS,MAAM,MAAQC,EAAoB,MAChDD,EAAK,SAAS,QAAQ,MAAQC,EAAoB,QAEtD"}